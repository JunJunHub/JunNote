---
datetime: 2025-06-06T14:38:00
aliases: 
tags:
  - Protocol/TCP
---

## TCP/IP通讯的三种传送方式 ：单播、广播和组播介绍！

TCP/IP通讯的三种传送方式TCP/IP传送方式目前有三种：单播、广播和组播。
[1.1  单播](http://forum.huawei.com/enterprise/zh/)

服务器和客户机之间“一对一”的通讯模式，网络中的交换机和路由器对数据只进行转发不进行复制。如果10个客户机需要相同的数据，则服务器需要逐一传送，重复10次相同的工作。网络中的路由器和交换机根据其目标地址选择传输路径，将IP单播数据传送到其指定的目的地。由于单播能够针对每个客户及时响应，所以现在的Internet应用中如网页浏览等都是采用IP单播协议。

单播的优点：
n 服务器及时响应客户机的请求；
n 服务器针对每个客户不通的请求发送不同的数据，容易实现个性化服务。
单播的缺点：
n 服务器针对每个客户机发送数据流，服务器流量＝客户机数量×客户机流量；在客户数量大、每个客户机流量大的流媒体应用中服务器不堪重负；
n 现有的网络带宽是金字塔结构，城际省际主干带宽仅仅相当于其所有用户带宽之和的5％。如果全部使用单播协议，网络中只要有5％的客户在全速使用网络，就会造成网络主干不堪重负。

1.2  [广播](http://forum.huawei.com/enterprise/zh/)

服务器和客户机之间“一对所有”的通讯模式，网络对其中每一台主机发出的信号都进行无条件复制并转发，所有主机都可以接收到所有信息（不管你是否需要），由于其不用路径选择，所以其网络成本可以很低廉。有线电视网就是典型的广播型网络，我们的电视机实际上是接受到所有频道的信号，但只将一个频道的信号还原成画面。在数据网络中也允许广播的存在，但其被限制在二层交换机的局域网范围内，禁止广播数据穿过路由器，防止广播数据影响大面积的主机。

广播的优点：
n 网络设备简单，维护简单，布网成本低廉；
n 由于服务器不用向每个客户机单独发送数据，所以服务器流量负载极低。
广播的缺点：
n 无法针对每个客户的要求和时间及时提供个性化服务；
n 网络允许服务器提供数据的带宽有限，客户端的最大带宽＝服务总带宽，无法向众多客户提供更多样化、更加个性化的服务；
n 广播禁止在Internet宽带网上传输。

[1.3  组播](http://forum.huawei.com/enterprise/zh/)

服务器和客户机之间“一对一组”的通讯模式，也就是加入了同一个组的客户机可以接受到此组内的所有数据，网络中的交换机和路由器只向有需求者复制并转发其所需数据。客户机可以向路由器请求加入或退出某个组，网络中的路由器和交换机有选择的复制并传输数据，即只将组内数据传输给那些加入组的客户机。这样既能一次将数据传输给多个有需要（加入组）的主机，又能保证不影响其他不需要（未加入组）的主机的其他通讯。

组播的优点：
n 需要相同数据流的客户端加入相同的组共享一条数据流，节省了服务器的负载。具备广播所具备的优点；
n  由于组播协议是根据接受者的需要对数据流进行复制转发，所以服务端的服务总带宽不受客户接入端带宽的限制。IP协议允许有2亿6千多万个（268435456）组播，所以其提供的服务可以非常丰富；
n 组播协议和单播协议一样允许在Internet宽带网上传输。
组播的缺点：
n 与单播协议相比没有纠错机制，发生丢包错包后难以弥补，但可以通过一定的容错机制和QOS加以弥补；
n 现行网络虽然都支持组播的传输，但在客户认证、QOS等方面还需要完善，这些缺点在理论上都有成熟的解决方案，只是需要逐步推广应用到现存网络当中。

[2    组播技术](http://forum.huawei.com/enterprise/zh/)

[2.1  组播技术原理](http://forum.huawei.com/enterprise/zh/)

组播是一种允许一个或多个发送者（组播源）发送单一的数据包到多个接收者（一次的，同时的）的网络技术。 组播源把数据包发送到特定组播组，而只有属于该组播组的地址才能接收到数据包。组播可以大大的节省网络带宽， 因为无论有多少个目标地址，在整个网络的任何一条链路上只传送单一的数据包。 它提高了数据传送效率，减少了主干网出现拥塞的可能性。组播组中的主机可以是在同一个物理网络， 也可以来自不同的物理网络（如果有组播路由器的支持）。

[2.2  实现组播技术的前提条件](http://forum.huawei.com/enterprise/zh/)

实现IP组播传输，则组播源和接收者以及两者之间的下层网络都必须支持组播。这包括以下几方面：
\* 主机的TCP/IP实现支持发送和接收IP组播； 
\* 主机的网络接口支持组播； 
\* 有一套用于加入、离开、查询的组管理协议，即IGMP； 
\* 有一套IP地址分配策略，并能将第三层IP组播地址映射到第二层MAC地址； 
\* 支持IP组播的应用软件； 
\* 所有介于组播源和接收者之间的路由器、集线器、交换机、TCP/IP栈、防火墙均需支持组播。

[2.3  组播地址](http://forum.huawei.com/enterprise/zh/)

组播报文的目的地址使用d类ip地址， 范围是从224.0.0.0到239.255.255.255。d类地址不能出现在ip报文的源ip地址字段。
224.0.0.0～224.0.0.255为预留的组播地址（永久组地址）只能用于局域网中，路由器是不会转发的地址。224.0.0.0保留不做分配，其它地址供路由协议使用。
224.0.1.0～238.255.255.255为用户可用的组播地址（临时组地址），可以用于Internet上的。
239.0.0.0～239.255.255.255为本地管理组播地址，仅在特定的本地范围内有效。
[2.4  组播协议简介](http://forum.huawei.com/enterprise/zh/)

组播协议主要包括组管理协议和组播路由协议:
\* 组管理协议IGMP
主机使用IGMP通知子网组播路由器，希望加入组播组；路由器使用IGMP查询本地子网中是否有属于某个组播组的主机。 
\* 组播路由协议
要想在一个实际网络中实现组播数据包的转发，必须在各个互连设备上运行可互操作的组播路由协议。 组播路由协议可分为三类：密集模式协议（如DVMRP，PIM-DM）、稀疏模式协议（如PIM-SM，CBT） 和链路状态协议（MOSPF）。
[3    组播技术在会议电视系统中的应用](http://forum.huawei.com/enterprise/zh/)

[3.1  会议电视组播方案](http://forum.huawei.com/enterprise/zh/)

基于IP网络传输的会议电视系统进行多点会议时，MCU需要接收各入会会场的视频/声音/数据等信息 并转发相应的视音频数据到需要收看的会场终端上，通常MCU与各终端之间采用单播协议一对一进行通讯，这样MCU能够及时响应各会场的要求，满足会议电视通讯的实时性要求。
但入会的会场越多，MCU的能力要求就越高，出口处网络带宽也相应越高，并会带来网络延时和抖动，最终会让MCU和网络不堪重负。

![img](.\mcu_multicast_1.jpg)
                                                               图1 会议电视传统单播组网方案
如上图，假如每个会场采用2M带宽入会，有N个会场参加会议，则MCU出口处最多需要有N×2M的带宽（没被观看的会场上传视频带宽一般会被流控到最低，此处按最大值计算）
会议电视使用的场景中，较多的情况是把主会场（或多画面）图像广播，所有分会场都观看主会场图像。如果利用组播技术，把主会场（或多画面)图像作为组播源发送到网络上，分会场终端作为组播成员，MCU只需要发送一路视频流就可以让所有分会场都收看到主会场图像，这样可以大大降低MCU性能要求和降低出口的网络带宽。

![img](.\mcu_multicast_2.jpg)
                                                                  图2 会议电视组播组网方案
如上图所示，各终端以2Mbit/s速率入会，终端1被MCU广播，各终端以2Mbit/s速率把自己视频上传给MCU，MCU只需要2Mbit/s的下行带宽把终端1的图像通过组播发送到网络，各终端接收组播流即可。
实际使用时，其他分会场因为无需被观看，其上行视频带宽一般会被流控降低到50kbit/s左右。这样MCU出口处最低下行视频带宽约为一路组播码流的带宽 2Mbit/s，上行视频带宽约为2M+(n-1)*50k bit/s（实际还有上下行音频带宽约各n*64k bit/s，此处暂不计)。

上述方案中是使用硬件H323终端以组播方式入会的，该终端必须有组播的能力（同时需要在SMC中定义该终端有组播能力），该方式可有效降低了MCU负担和网络出口带宽。
如果使用QuickTime等可以接收组播流的PC软件，加入该组播组观看组播流，也可以达到实时收听会议内容的效果而不需要增加MCU容量和网络带宽，这样就可以扩展入会用户数量，大大节约建网成本。
所以利用IP 组播技术有效地解决了单点发送多点接收的问题，实现了 MCU到多个终端间的高效数据传送，并能够大量节约网络带宽降低网络负载；使用软件接收组播流的方式也可以大大降低建网成本。
[3.2  目前会议电视组播方案的局限性](http://forum.huawei.com/enterprise/zh/)

要实现组播，除了MCU和终端以及MCU和终端间所有的网络设备都必须支持组播外，还存在以下局限性：
1、MCU和终端间所有的路由器交换机和防火墙等网络设备都必须支持组播；
2、终端以组播方式入会后就只能接收观看MCU下发的组播流，无法任意选择观看其他会场图像；
3、组播地址需要手工分配，在一个支持组播的网络中，可能存在组播节目冲突问题，也存在非法组播源传播的问题；
4、组播协议中没有提供用户认证支持，组播协议在安全上也没有提供可靠的保证。
[3.3  会议电视组播方案总结](http://forum.huawei.com/enterprise/zh/)

利用组播技术能够很好的降低MCU的负荷，并能够大量节约骨干网络的带宽，具有广阔的发展前景。
虽然目前组播方案在会议电视系统的应用中还存在一定的局限性，随着组播技术的逐渐发展成熟，这些局限性也将被逐步解决，最终在会议电视中的广泛应用。